webpackJsonp([3],{"5M8x":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{formData:{name:"",phone:"",idNum:""}}},methods:{uploadData:function(){var e=this;this.$axios.post("addClient",this.formData).then(function(t){200==t.code&&(e.$message({message:"恭喜你，添加成功!",type:"success"}),setTimeout(function(){e.$router.push("/clients")},1e3))})},getData:function(){var e=this,t=this.$route.query.id;this.$axios.get("getClient",{id:t}).then(function(t){e.formData=t.data[0]})},updateData:function(){var e=this;this.$route.query.id;this.$axios.post("updateClient",this.formData).then(function(t){console.log(t),200==t.code&&(e.$message({message:"恭喜你，修改成功!",type:"success"}),setTimeout(function(){e.$router.push("/clients")},1e3))})}},created:function(){"客户修改页"==this.$route.name&&this.getData()},watch:{$route:function(e,t,a){"客户添加页"==e.name&&(this.formData={name:"",phone:"",idNum:""})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("el-form",{attrs:{model:e.formData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户姓名"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},["客户添加页"==e.$route.name?a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.uploadData(t):null}},model:{value:e.formData.idNum,callback:function(t){e.$set(e.formData,"idNum",t)},expression:"formData.idNum"}}):e._e(),e._v(" "),"客户修改页"==e.$route.name?a("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.updateData(t):null}},model:{value:e.formData.idNum,callback:function(t){e.$set(e.formData,"idNum",t)},expression:"formData.idNum"}}):e._e()],1),e._v(" "),a("el-form-item",["客户添加页"==e.$route.name?a("el-button",{on:{click:e.uploadData}},[e._v("提交")]):e._e(),e._v(" "),"客户修改页"==e.$route.name?a("el-button",{on:{click:e.updateData}},[e._v("保存修改")]):e._e()],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(n,o,!1,function(e){a("q+NM")},"data-v-1f8243ca",null);t.default=i.exports},"q+NM":function(e,t){}});
//# sourceMappingURL=3.5691ef357f60a8837e42.js.map